webpackJsonp([46],{"0CaR":function(t,e){},KR8f:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("6iV/"),n=a.n(s),o={data:function(){return{dialogVisible:!1,takeCount:0,withDraw:!1,money:0,bankImg:"",bankCount:"",password:"",warning_row:"warning_row",enterpriseCode:this.$store.state.dialog.enterpriseCode,http:this.$store.state.dialog.http,person:{},allotment:[],stock:[],fullscreenLoading:!1}},created:function(){this.getData(),console.log(this.$store.state.dialog)},methods:{makeSure:function(){var t=this;this.axios.post(this.http+"/interface/pc/personal/pcEnterprise/pcWithDraw",n.a.stringify({phone:this.getCookie("LOGIN_PHONE"),password:this.password,account:this.takeCount})).then(function(e){200==e.data.code?(t.money=t.money-t.takeCount,t.dialogVisible=!1,t.$message({type:"success",message:"已提交至系统审核"})):t.$message({type:"warning",message:"提交失败"})})},writeInfo:function(){/^[0-9]+.?[0-9]*$/.test(this.takeCount)&&this.takeCount>this.money&&0!=this.takeCount?this.dialogVisible=!0:this.$message({type:"warning",message:"请输正确入金额"})},toWithDraw:function(){var t=this;this.withDraw=!0,this.axios.post(this.http+"/interface/pc/personal/pcEnterprise/withDrawInfo",n.a.stringify({phone:this.getCookie("LOGIN_PHONE")})).then(function(e){200==e.data.code?(t.withDraw=!0,t.money=JSON.parse(e.data.data).availableFunds?JSON.parse(e.data.data).availableFunds:0,t.bankImg=JSON.parse(e.data.data).bankPicture,t.bankCount=JSON.parse(e.data.data).bankcardNumber):862==e.data.code?t.$router.openPage("/myCenter/myAccount"):t.$message({type:"info",message:"网络请求失败"})})},releaseStatusFmt:function(t,e){return 1==t.releaseStatus?"待配售":2==t.releaseStatus?"已配售":5==t.releaseStatus?"已发行":6==t.releaseStatus?"待结算":7==t.releaseStatus?"已结束":""},getData:function(){var t=this;this.fullscreenLoading=!0,this.axios.post(this.http+"/interface/pc/personal/pcEnterprise/enterpriseInfo",n.a.stringify({enterpriseId:this.enterpriseCode})).then(function(e){t.fullscreenLoading=!1,console.log(e.data.data),200==e.data.code?(t.person=JSON.parse(e.data.data).enterprise,t.stock=JSON.parse(e.data.data).stock,t.allotment=JSON.parse(e.data.data).allotment,console.log(JSON.parse(e.data.data)),1==t.allotment.releaseStatus?t.allotment.releaseStatus="待配售":2==t.allotment.releaseStatus?t.allotment.releaseStatus="已配售":5==t.allotment.releaseStatus?t.allotment.releaseStatus="已发行":7==t.allotment.releaseStatus?t.allotment.releaseStatus="已结束":6==t.allotment.releaseStatus&&(t.allotment.releaseStatus="待结算")):t.open(e.data.data.message)}).catch(function(e){t.fullscreenLoading=!1,t.open(e)})},delCookie:function(t){var e=new Date;e.setTime(e.getTime()-1);var a=this.getCookie(t);null!=a&&(document.cookie=t+"="+a+";expires="+e.toGMTString()),this.$router.openPage("/login"),location.reload()},getCookie:function(t){var e,a=new RegExp("(^| )"+t+"=([^;]*)(;|$)");return!!(e=document.cookie.match(a))&&e[2]},open:function(t){var e=this;this.$alert("网络错误请求失败!","错误",{confirmButtonText:"确定",callback:function(a){e.delCookie("JSESSIONID"),e.$router.openPage("/login"),e.$message({type:"info",message:"错误原因: "+t})}})}}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}]},[t.withDraw?t._e():s("el-row",{staticClass:"myCenter",attrs:{gutter:20}},[s("el-col",{staticStyle:{"padding-right":"10px","padding-left":"0"},attrs:{span:8}},[s("div",{staticClass:"grid-content bg-purple"},[s("h4",[t._v("欢迎您")]),t._v(" "),s("div",{staticClass:"clearfix user-info"},[s("div",{staticClass:"fl img"},[s("img",{attrs:{src:a("JdGS")}})]),t._v(" "),s("div",{staticClass:"fr txt"},[s("h3",[t._v(t._s(t.person.enterpriseName))]),t._v(" "),s("p",{attrs:{id:"producerNo"}},[s("i",[t._v("会员账号")]),t._v(t._s(t.person.loginAccount)+"\r\n            ")]),t._v(" "),s("p",[s("i",[t._v("会员类型")]),t._v("茶企")])])])])]),t._v(" "),s("el-col",{staticClass:"myCenter_right",attrs:{span:12}},[s("div",{staticClass:"grid-content bg-purple"},[s("h4",{staticClass:"clearfix"},[s("span",{staticClass:"fl"},[t._v("我的资产")])]),t._v(" "),s("div",{staticClass:"fl",attrs:{id:"indicatorContainer"}},[s("div",{staticClass:"time-graph"},[s("el-progress",{attrs:{id:"time-graph-canvas",color:"#85d824",type:"circle",percentage:100,width:152,"show-text":!1}})],1),t._v(" "),s("div",{staticClass:"sum"},[s("p",[t._v("账户余额\r\n              "),s("i",[t._v("(元)")])]),t._v(" "),s("h5",{attrs:{id:"my_balance"}},[t._v(t._s(t.person.capitalBalance))])])]),t._v(" "),s("div",{staticClass:"fl usable"},[s("p",{staticClass:"p1"},[s("em"),t._v("可用余额\r\n            "),s("span",{attrs:{id:"my_balance_useable"}},[t._v(" "+t._s(t.person.capitalBalance)+"元")])]),t._v(" "),s("p",{staticClass:"p2"},[s("em"),t._v("冻结资金\r\n            "),s("span",{attrs:{id:"my_balance_frozen"}},[t._v(" 0.00")])])]),t._v(" "),s("div",{staticClass:"fr buttons"},[s("el-button",{on:{click:function(e){t.toWithDraw()}}},[t._v("提现")]),t._v(" "),s("el-button",{attrs:{type:"danger"}},[t._v("充值")])],1)])])],1),t._v(" "),t.withDraw?t._e():s("el-row",[s("el-col",{attrs:{span:24}},[s("div",{staticClass:"grid-content bg-purple-dark table-box "},[s("h4",{staticClass:"clearfix"},[s("span",{staticClass:"fl buy-order el-icon-menu"},[t._v("我的库存")]),t._v(" "),s("a",{staticClass:"fr",on:{click:function(e){t.$router.openPage("/myCenter/myInventory")}}},[t._v("更多>")])]),t._v(" "),s("el-table",{staticStyle:{width:"100%"},attrs:{slot:"empty",data:t.stock,border:""},slot:"empty"},[s("el-table-column",{attrs:{prop:"goodsCode",label:"商品代码",width:"150"}}),t._v(" "),s("el-table-column",{attrs:{prop:"goodsName",label:"商品名称",width:"150"}}),t._v(" "),s("el-table-column",{attrs:{prop:"shelRetentionCount",label:"持有数量",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.shelRetentionCount?e.row.shelRetentionCount:"0")+" "+t._s(e.row.benchmarkingUnit3))])]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"releaseCountTotal",label:"抢购数量",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.releaseCountTotal?e.row.releaseCountTotal:"0")+" "+t._s(e.row.benchmarkingUnit3))])]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"CountTotal",label:"冻结数量",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.CountTotal?e.row.CountTotal:"0")+" "+t._s(e.row.benchmarkingUnit3))])]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"takeTeaCount",label:"已提货数量"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.takeTeaCount?e.row.takeTeaCount:"0")+" "+t._s(e.row.benchmarkingUnit3))])]}}])})],1)],1)])],1),t._v(" "),t.withDraw?t._e():s("el-row",[s("el-col",{attrs:{span:24}},[s("div",{staticClass:"grid-content bg-purple-dark table-box "},[s("h4",{staticClass:"clearfix"},[s("span",{staticClass:"fl buy-order el-icon-phone-outline"},[t._v("我的抢购")]),t._v(" "),s("a",{staticClass:"fr",on:{click:function(e){t.$router.openPage("/myCenter/rushby")}}},[t._v("更多>")])]),t._v(" "),s("el-table",{staticStyle:{width:"100%"},attrs:{slot:"empty",data:t.allotment,border:""},slot:"empty"},[s("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",prop:"goodsCode",label:"商品代码",width:"100"}}),t._v(" "),s("el-table-column",{attrs:{prop:"goodsName",align:"center",label:"商品名称",width:"100"}}),t._v(" "),s("el-table-column",{attrs:{prop:"partakeAllomentCount",align:"center",label:"抢购总量"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.partakeAllomentCount?e.row.partakeAllomentCount:"0")+" "+t._s(e.row.benchmarkingUnit3))])]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"releasePrice",align:"center",label:"抢购价格"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.releasePrice?e.row.releasePrice:"0")+" 元")])]}}])}),t._v(" "),s("el-table-column",{attrs:{resizable:"","show-overflow-tooltip":"",align:"center",prop:"releaseBeginTime",label:"抢购开始时间"}}),t._v(" "),s("el-table-column",{attrs:{"show-overflow-tooltip":"",align:"center",prop:"releaseEndTime",label:"抢购结束时间"}}),t._v(" "),s("el-table-column",{attrs:{align:"center",prop:"partakeAllomentCount",label:"参与抢购数量"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.partakeAllomentCount?e.row.partakeAllomentCount:"0")+" "+t._s(e.row.benchmarkingUnit3))])]}}])}),t._v(" "),s("el-table-column",{attrs:{align:"center",prop:"transferCount",label:"已售卖数量"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.transferCount?e.row.transferCount:"0")+" "+t._s(e.row.benchmarkingUnit3))])]}}])}),t._v(" "),s("el-table-column",{attrs:{align:"center",prop:"releaseType",label:"公开封闭"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(0==e.row.releaseType?"公开":"封闭"))])]}}])}),t._v(" "),s("el-table-column",{attrs:{align:"center",prop:"warehousingCount",label:"库存总量"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.warehousingCount?e.row.warehousingCount:"0")+" "+t._s(e.row.benchmarkingUnit33))])]}}])}),t._v(" "),s("el-table-column",{attrs:{align:"center",prop:"releaseStatus",formatter:t.releaseStatusFmt,label:"当前状态",width:"100"}})],1)],1)])],1),t._v(" "),t.withDraw?s("el-breadcrumb",{staticStyle:{padding:"24px","padding-left":"0"},attrs:{"separator-class":"el-icon-arrow-right"}},[s("el-breadcrumb-item",[s("b",[t._v("账户提现")])])],1):t._e(),t._v(" "),t.withDraw?s("el-row",{staticStyle:{border:"1px solid #eee",padding:"40px 20px"}},[s("el-col",{attrs:{span:24}},[s("el-form",{attrs:{"status-icon":"","label-width":"100px"}},[s("el-form-item",{attrs:{label:"提现银行卡："}},[s("el-col",{attrs:{span:15,offset:1}},[s("img",{staticStyle:{width:"180px",height:"43px",border:"1px solid #efefef"},attrs:{src:t.bankImg}}),s("span",{staticStyle:{"margin-left":"30px","font-size":"18px"}},[t._v(t._s(t.bankCount))])])],1),t._v(" "),s("el-form-item",{attrs:{label:""}},[s("el-col",{attrs:{span:11,offset:1}},[t._v("\r\n            账户可用余额"),s("span",{staticStyle:{color:"red","font-size":"20px",margin:"0 5px"}},[t._v(t._s(t.money))]),t._v("元"),s("span",{staticStyle:{"margin-left":"30px",color:"#409EFF",cursor:"pointer"},on:{click:function(e){t.takeCount=t.money}}},[t._v("全部提现")])])],1),t._v(" "),s("el-form-item",{attrs:{label:"提现金额："}},[s("el-col",{attrs:{span:11,offset:1}},[s("el-input",{model:{value:t.takeCount,callback:function(e){t.takeCount=e},expression:"takeCount"}})],1),t._v(" "),s("el-col",{attrs:{span:1,offset:1}},[t._v("\r\n            元\r\n          ")])],1),t._v(" "),s("el-form-item",{attrs:{label:"资金密码："}},[s("el-col",{attrs:{span:11,offset:1}},[s("el-input",{attrs:{type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),s("el-col",{attrs:{span:5,offset:1}},[s("span",{staticStyle:{color:"#409EFF",cursor:"pointer"},on:{click:function(e){t.$router.openPage("/myCenter/editMoneyPsw")}}},[t._v("忘记密码?")])])],1),t._v(" "),s("el-form-item",{attrs:{label:""}},[s("el-col",{attrs:{span:11,offset:1}},[s("el-button",{attrs:{type:"primary"},on:{click:function(e){t.writeInfo()}}},[t._v("确认提现")])],1)],1)],1)],1)],1):t._e(),t._v(" "),s("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[s("span",[t._v("确定提现"+t._s(t.takeCount)+"元至卡号"+t._s(t.bankCount)+"的银行卡吗?")]),t._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:t.makeSure}},[t._v("确 定")])],1)])],1)},staticRenderFns:[]};var r=a("vSla")(o,l,!1,function(t){a("0CaR")},"data-v-5f29832d",null);e.default=r.exports}});